#summary Current State of the BridJ project
#labels Featured
<wiki:toc max_depth="3" />

Display [http://code.google.com/p/nativelibs4java/source/browse/trunk/libraries/Runtime/BridJ/CHANGELOG the CHANGELOG]

= Supported Platforms =

Binaries are currently available and routinely tested for the following platforms :
  * Windows (32 & 64 bits), tested on XP 32 bits and Windows 7 64 bits.
  * MacOS X (Universal : PPC, Intel 32 & 64 bits), tested on x86_64.
  * Linux (x86 & x86_64 *(NEW)*), tested on Ubuntu 9.10 x86 and x86_64.
(plans are to support FreeBSD 32/64 soon)

= Working Features =

  * thread-safe design (including reentrant calls)
  * [http://jnaerator.googlecode.com/ JNAerator] support on par with JNA's
  * C functions calls with __cdecl and __stdcall conventions
  * C++ method calls and destructors (including virtual methods)
  * lazy signatures annotation support (exact symbols are optional)
  * Call C callbacks from Java and call Java-implemented callbacks from C
  * Complete [Pointers] API (with typed opaque pointers, array accessible + iterable reified generic Pointer base class...)
  * Type-safe enums (ValuedEnum + [http://nativelibs4java.sourceforge.net/sites/nl4j-runtime-parent/bridj/apidocs/org/bridj/FlagSet.html FlagSet] classes) : unifies singleton and multi-flags patterns
  * [COM] object creation and calls (tested on Win 64 bits only)
  * lightweight and fast structs (no memory duplication nor update issues between Java and the native side)
  * [http://nativelibs4java.sourceforge.net/sites/nl4j-runtime-parent/bridj/apidocs/org/bridj/jawt/JAWTUtils.html Getting the native handler to an AWT Component's peer]

= Known limitations =

  * only default C++ constructors are supported so far (not those with arguments)
  * structs by value not supported yet (neither as function arguments nor as function return values)
  * requires Java 1.5 or more recent (if you need 1.4 compatibility, you shoud JNA instead)

= Features in progress = 

  * Struct fields in structs !
  * Enum fields in structs !
  * JNAeration of enums (TODO add values(), fromValue(long), fix function enum args : not int !)
  * assembly-optimized raw calls (for Win32, Win64, Mac64, Linux32, Linux64) : win64 is buggy, lin32 is TODO, mac is buggy with floats and doubles (of course, buggy implies disabled)
  * finish C++ classes :
    * support fields (mix existing code for structs)
    * call arbitrary constructors (with args)
    * subclassing from Java (virtual __thiscall and __fastcall callbacks, vtable synthetization)
  * C++ templates for functions and classes (combination of generics and extra args/fields for types reification and last-minute lookup of actual symbols)
  * generic callback types (`Func0<R>`, `Func1<R, A1>`...)
  * varargs
  * ObjectiveC methods calls (objc_msgSend) : hope to draw interest from Rococoa developers

= Planned features = 

(also see [GoogleSummerOfCode] for projects on which we'd love to receive help, from students or passionate individuals)

  * pass and return structs by value
  * COM JNAeration : need to hook into Anarres preprocessor to retrieve CLSID and IID before they're swallowed out by their respective macros
  * *some* amount of built-in support for STL types (strings and vector at least, in debug/release mode, for GNU's STL, STLPort and MS VC++9's STL)
  * Full MFC Runtime (with annotations-based message map creation)
  * Mono/CLR interop (see [http://ochafik.free.fr/blog/?p=165 my previous hack])
  * MS/.NET interop
  * reverse-engineering helper (struct sizes guesses can be eased up a bit, and there's already a good demangler)

= Dynamic Library dependencies =

On Windows :
- C runtime + DbgHelp

On MacOS X :
- C runtime + libobjc + pthreads

On other Unix platforms : 
- C runtime + pthreads

= Features Not Planned / Ruled Out =

Why limiting the scope of this project so early ?

Err... ok, BridJ will *never* make coffee.